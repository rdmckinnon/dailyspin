{{ define "main" }}
<article class="ds-single">
  {{/* Hero Section */}}
  <header class="ds-hero-single">
    <div class="container">
      <div class="row">
        <div class="col-lg-10 offset-lg-1 text-center">
          <div class="mb-4 d-flex align-items-center justify-content-center gap-3">
            <span class="text-uppercase ls-2 fw-bold ds-hero-date">{{ .Date.Format "October 2, 2006" }}</span>
          </div>
          <h1 class="ds-hero-title mb-4" style="font-size: clamp(3rem, 8vw, 6rem); line-height: 0.9;">{{ .Title }}</h1>
          <div class="ds-hero-meta fs-4 mb-5"
            style="color: var(--ds-muted); font-weight: 400; text-transform: uppercase; letter-spacing: 0.05em;">
            {{ with .Params.artists }}{{ delimit . ", " }}{{ end }}
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="container py-5" id="details">
    <div class="row g-5 justify-content-center">
      {{/* Main Content */}}
      <div class="col-lg-8">
        <div class="ds-content">
          <p class="lead mb-5" style="font-size: 1.4rem; font-weight: 400; color: var(--ds-fg); line-height: 1.6;">{{
            .Summary
            }}</p>

          <div class="ds-prose">
            {{ .Content }}
          </div>

          {{ with .Params.spotify_id }}
          <div class="mt-5 pt-5 border-top border-secondary">
            <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/{{ . }}?utm_source=generator"
              width="100%" height="152" frameBorder="0" allowfullscreen=""
              allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
              loading="lazy"></iframe>
          </div>
          {{ end }}
        </div>

        {{/* Navigation */}}
        <div class="d-flex justify-content-between mt-5 pt-5 border-top border-secondary">
          {{ with .PrevInSection }}
          <a href="{{ .RelPermalink }}" class="btn ds-btn-secondary btn-sm">
            ← {{ .Title }}
          </a>
          {{ end }}
          {{ with .NextInSection }}
          <a href="{{ .RelPermalink }}" class="btn ds-btn-secondary btn-sm">
            {{ .Title }} →
          </a>
          {{ end }}
        </div>
      </div>
    </div>
  </div>
</article>

<style>
  .ds-hero-single {
    padding: 8rem 0 4rem;
    background: var(--ds-bg);
  }

  .ds-hero-date {
    font-size: 0.8rem;
    letter-spacing: 0.2em;
    color: var(--ds-muted);
  }

  .ds-prose {
    font-size: 1.15rem;
    line-height: 1.8;
    color: var(--ds-fg);
    font-family: var(--ds-font-body);
  }

  .ds-prose h2 {
    margin-top: 3rem;
    margin-bottom: 1.5rem;
    font-size: 2rem;
    color: var(--ds-fg);
  }

  .ds-prose p {
    margin-bottom: 1.5rem;
  }

  .ds-prose blockquote {
    border-left: 2px solid var(--ds-primary);
    padding-left: 2rem;
    margin: 2rem 0;
    font-size: 1.4rem;
    font-style: italic;
    color: var(--ds-fg);
  }
</style>
{{ end }}
