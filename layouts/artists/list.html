{{ define "main" }}
<section class="ds-wrap ds-section px-4">
  <header class="ds-hero-slim text-center mb-5 pt-5">
    <h1 class="mb-3" style="font-size: 3.5rem; letter-spacing: -0.02em;">{{ .Title }}</h1>
    <p style="color: var(--ds-muted); font-size: 1.1rem;">{{ len .Pages }} {{ if eq (len .Pages) 1 }}song{{ else }}songs{{ end }} in the archive</p>
  </header>

  {{/* Songs by this artist */}}
  <div class="ds-grid">
    {{ range .Pages.ByDate.Reverse }}
    <div class="ds-card">
      <a class="ds-card-link" href="{{ .RelPermalink }}">
        <div class="ds-art">
          <img src="/images/placeholders/art-1.png" alt="Album Art" style="width:100%; height:100%; object-fit: cover; opacity: 0.8;">
        </div>

        <div class="d-flex justify-content-between align-items-center mb-2">
          <span class="ds-card-meta mb-0">{{ .Params.release_year }}</span>
          <span class="ds-card-meta mb-0">{{ with .Params.albums }}{{ index . 0 }}{{ end }}</span>
        </div>

        <h3 class="ds-card-title" style="font-size: 1.5rem;">{{ .Title }}</h3>

        {{/* Genre Pills */}}
        <div class="ds-card-genres d-flex flex-wrap gap-1 mb-2">
          {{ range first 2 .Params.genres }}
          <span style="background: var(--ds-border); padding: 0.15rem 0.5rem; border-radius: 100px; font-size: 0.65rem; text-transform: uppercase; color: var(--ds-muted);">{{ . }}</span>
          {{ end }}
        </div>

        <div class="ds-card-summary">{{ .Summary | truncate 80 }}</div>
      </a>
    </div>
    {{ end }}
  </div>

  <div class="text-center mt-5">
    <a href="/artists/" class="btn ds-btn-secondary">View All Artists</a>
  </div>
</section>
{{ end }}
